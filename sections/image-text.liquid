<style>
  .ctm-main-img-txt {
    display: flex;
    align-items: stretch;
    justify-content: space-between;
    background-color: #f9f7f3;
    background-image:
      url('https://cdn.shopify.com/s/files/1/0622/2633/3831/files/BG_image.png'),
      url('https://cdn.shopify.com/s/files/1/0622/2633/3831/files/flower.png');
    background-size:
      75% 100%,
      220px auto;
    background-repeat: no-repeat, no-repeat;
    background-position:
      left top,
      right bottom;
    padding: 40px 60px;
    position: relative;
    min-height: 400px;
  }

  .ctm-image-text {
    flex: 1 1 0;
    max-width: 56%;
    color: #3d3731;
    padding: 0 32px 0 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .ctm-image-text h2 {
    font-weight: 700;
    font-size: 2.3rem;
    margin-bottom: 18px;
    color: #23201a;
  }

  .ctm-image-text p {
    font-size: 1rem;
    margin-bottom: 20px;
    color: #463f38;
    line-height: 1.6;
  }

  .ctm-image-text a {
    display: inline-block;
    background: #a77d4d;
    color: #fff;
    padding: 14px 28px;
    border-radius: 8px;
    text-decoration: none;
    font-size: 1rem;
    transition: background 0.2s;
  }

  .ctm-image-text a:hover {
    background: #8d653b;
  }

  .ctm-text-image {
    flex: 1 1 0;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    min-width: 240px;
  }

  .ctm-text-image img {
    max-width: 325px;
    width: 100%;
    height: auto;
  }
</style>
<div class="{{ section.settings.extra_class }} ctm-main-img-txt container_fluid">
  <div class="ctm-image-text">
    {% if section.settings.caption != blank %}
      <p>{{ section.settings.caption }}</p>
    {% endif %}
    {% if section.settings.heading != blank %}
      {{ section.settings.heading }}
    {% endif %}
    {% if section.settings.description != blank %}
      {{ section.settings.description }}
    {% endif %}
    {% if section.settings.button_text != blank %}
      <a href="{{ section.settings.button_url }}">{{ section.settings.button_text }}</a>
    {% endif %}
  </div>
  {% if section.settings.section_image != blank %}
    <div class="ctm-text-image">
      <img src="{{ section.settings.section_image | image_url }}" width="auto" height="auto" alt="image with text">
    </div>
  {% endif %}
</div>
{% schema %}
{
  "name": "Image Text",
  "class": "ctm-image-with-text",
  "settings": [
    {
      "type": "text",
      "label": "Extra Class",
      "id": "extra_class"
    },
    {
      "type": "text",
      "label": "Caption",
      "id": "caption"
    },
    {
      "type": "richtext",
      "label": "Heading",
      "id": "heading"
    },
    {
      "type": "richtext",
      "label": "Description",
      "id": "description"
    },
    {
      "type": "text",
      "label": "Button Text",
      "id": "button_text"
    },
    {
      "type": "url",
      "label": "Button URL",
      "id": "button_url"
    },
    {
      "type": "image_picker",
      "label": "Section Image",
      "id": "section_image"
    }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "Image Text"
    }
  ]
}
{% endschema %}
